<section class="registro-section">

  <!-- üîπ BANNER SUPERIOR -->
  <div class="top-message">
    <h2>¬°Reg√≠strate como Remitente!</h2>
    <p>Crea tu cuenta y comienza a gestionar tus env√≠os r√°pidamente.</p>
  </div>

  <!-- üîπ TARJETA DEL FORMULARIO -->
  <div class="registro-card">

    <div class="title-area">
      <h2>Crear Cuenta</h2>
      <p>Completa tus datos para comenzar a enviar con nosotros.</p>
    </div>

    <form #f="ngForm" (ngSubmit)="registrar(f)" novalidate>

      <!-- Nombre Completo -->
      <div class="input-group">
        <label>Nombre completo *</label>
        <input
          type="text"
          name="nombre_completo"
          placeholder="Ej: Jordy Brice√±o"
          required
          minlength="3"
          [(ngModel)]="formData.nombre_completo"
          #nombre="ngModel"
        />

        <small *ngIf="nombre.invalid && nombre.touched" class="error">
          {{ nombre.errors?.['required'] ? 'El nombre es obligatorio.' : '' }}
          {{ nombre.errors?.['minlength'] ? 'Debe tener al menos 3 caracteres.' : '' }}
        </small>
      </div>

      <!-- Correo -->
      <div class="input-group">
        <label>Correo electr√≥nico *</label>
        <input
          type="email"
          name="email"
          placeholder="tucorreo@ejemplo.com"
          required
          email
          [(ngModel)]="formData.email"
          #email="ngModel"
        />

        <small *ngIf="email.invalid && email.touched" class="error">
          {{ email.errors?.['required'] ? 'El correo es obligatorio.' : '' }}
          {{ email.errors?.['email'] ? 'Debe ser un correo v√°lido.' : '' }}
        </small>
      </div>

      <!-- Contrase√±a -->
      <div class="input-group">
        <label>Contrase√±a *</label>
        <input
          type="password"
          name="password"
          placeholder="M√≠nimo 6 caracteres"
          required
          minlength="6"
          [(ngModel)]="formData.password"
          #password="ngModel"
        />

        <small *ngIf="password.invalid && password.touched" class="error">
          {{ password.errors?.['required'] ? 'La contrase√±a es obligatoria.' : '' }}
          {{ password.errors?.['minlength'] ? 'Debe tener al menos 6 caracteres.' : '' }}
        </small>
      </div>

      <!-- Tel√©fono -->
      <div class="input-group">
        <label>Tel√©fono *</label>
        <input
          type="text"
          name="telefono"
          placeholder="0998765432"
          required
          pattern="^[0-9]{7,10}$"
          [(ngModel)]="formData.telefono"
          #telefono="ngModel"
        />

        <small *ngIf="telefono.invalid && telefono.touched" class="error">
          {{ telefono.errors?.['required'] ? 'El tel√©fono es obligatorio.' : '' }}
          {{ telefono.errors?.['pattern'] ? 'Debe tener entre 7 y 10 n√∫meros.' : '' }}
        </small>
      </div>

      <!-- Direcci√≥n -->
      <div class="input-group">
        <label>Direcci√≥n *</label>
        <textarea
          name="direccion"
          placeholder="Ej: Calle 10 y Av. Central, Quito"
          required
          minlength="5"
          [(ngModel)]="formData.direccion"
          #direccion="ngModel"
        ></textarea>

        <small *ngIf="direccion.invalid && direccion.touched" class="error">
          {{ direccion.errors?.['required'] ? 'La direcci√≥n es obligatoria.' : '' }}
          {{ direccion.errors?.['minlength'] ? 'Debe tener al menos 5 caracteres.' : '' }}
        </small>
      </div>

      <button class="btn-submit" [disabled]="f.invalid">
        Crear cuenta
      </button>

    </form>

    <p class="alternative">
      ¬øYa tienes una cuenta?  
      <a routerLink="/login">Iniciar sesi√≥n</a>
    </p>

  </div>

</section>

<!-- üåü MODAL DE √âXITO -->
<div class="modal" *ngIf="registroExitoso">
  <div class="modal-content">
    <div class="icon">üéâ</div>
    <h2>Registro Exitoso</h2>
    <p>Tu cuenta ha sido creada correctamente.</p>
    <button class="btn-modal" (click)="cerrarModal()">Aceptar</button>
  </div>
</div>
